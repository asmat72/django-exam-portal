<!DOCTYPE html>
<html>
<head>
   <title>{{ exam.title }}</title>
   <link rel="stylesheet" href="{% static 'bootstrap.min.css' %}">
   <script>
     let timeLeft = {{ exam.duration }} * 60;
     function startTimer() {
       const timer = setInterval(function() {
         let minutes = Math.floor(timeLeft / 60);
	 let seconds = timeLeft % 60;
	 document.getElementById("timer").innerHTML = minutes + ":" + (seconds < 10 ? "0" : "") + seconds;
	 timeLeft--;
	 if (timeLeft < 0) {
	   clearInterval(timer);
	   document.getElementById("examForm").submit();
	 }
       }, 1000);
     }
     window.onload = startTimer;
   </script>
</head>
<body class="container mt-4">
   <h2>{{ exam.title }}</h2>
   <div class="alert alert-info">Time Left: <span id="timer"></span></div>

   <form method="post" id="examForm">
     {% csrf_token %}
     {% for question in questions %}
       <div class="mb-4">
         <p><strong>Q{{ forloop.counter }}. {{ question.text }}</strong></p>
	 {% for i in "1234" %}
	   <div class="form-check">
	     <input class="form-check-input" type="radio" name="q{{ question.id }}" value="{{ i }}" required>
	     <label class="form-check-label">
	       {{ question|get_option:i }}
	     </label>
	   </div>
	 {% endfor %}
       </div>
     {% endfor %}
     <button type="submit" class="btn btn-success">Submit</button>
   <form>
</body>
</html>
